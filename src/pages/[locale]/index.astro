---
import Layout from '../../layouts/Layout.astro';
import Main from '../../components/Main.astro';
import { locales, isValidLocale, type Locale } from '../../utils/i18n';

export function getStaticPaths() {
  return locales.map((locale) => ({ params: { locale } }));
}

const { locale } = Astro.params;

if (!isValidLocale(locale)) {
  return Astro.redirect('/en');
}
---

<Layout title="AI Medical Documentation">
  <Main locale={locale as Locale} variant="locale" />
</Layout>
